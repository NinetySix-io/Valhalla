# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type UserSchema {
  """Identifier of the entity"""
  id: ID!

  """Date entity was created"""
  createdAt: DateTime!

  """Date entity was updated"""
  updatedAt: DateTime!
  email: String!
  emailVerified: Boolean
  phone: String
  phoneVerified: Boolean
  avatar: String
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type UserAuthResponse {
  """Refresh token"""
  token: String!
}

type UserMembershipGroup {
  """Name of the group"""
  name: String!

  """Avatar of the group"""
  avatar: String!
}

type UserMembershipType {
  """Group type for the membership"""
  groupType: UserMembershipGroupType!

  """User role within group"""
  role: UserMembershipRole!

  """Group information"""
  group: UserMembershipGroup!
}

"""User Memberships Group Type"""
enum UserMembershipGroupType {
  ORGANIZATION
}

"""User Membership Role"""
enum UserMembershipRole {
  OWNER
  MEMBER
  ADMIN
}

type Query {
  """Get Current Access Token"""
  getAccessToken: UserAuthResponse!

  """Get logged in user information"""
  whoAmI: UserSchema!

  """Get organizations that the user belongs to"""
  getUserOrganizationMemberships: [UserMembershipType!]!
}

type Mutation {
  """Log in"""
  login(input: UserLoginInput!): UserAuthResponse!

  """Registration"""
  register(input: UserRegisterInput!): UserAuthResponse!

  """Logout"""
  logout: Boolean!

  """Link an authentication provider"""
  linkAuthProvider(input: AuthProviderLinkInput!): Boolean!

  """Remove a linked authentication provider"""
  unlinkAuthProvider(input: AuthProviderUnlinkLinkInput!): Boolean!
  updateUserEmail(email: String!): Boolean!
  updateUserPhone(phone: String!): Boolean!
  updateUserDisplayName(displayName: String!): Boolean!

  """Create an organization"""
  createOrganization(name: String!): Boolean!

  """Add a user to an organization"""
  addOrganizationMember(input: ChangeOrganizationRoleInput!): Boolean!

  """Update a user role within an organization"""
  changeOrganizationRole(input: ChangeOrganizationRoleInput!): Boolean!

  """Create site"""
  createSite(input: CreateSiteInput!): Boolean!
}

input UserLoginInput {
  """User email address"""
  username: String!

  """Password"""
  password: String!
}

input UserRegisterInput {
  """Email Address"""
  email: String!

  """Password"""
  password: String!
}

input AuthProviderLinkInput {
  """Authentication provider"""
  provider: AuthProvider!

  """Provider token"""
  token: String!
}

"""Available Auth Providers"""
enum AuthProvider {
  FACEBOOK
  GITHUB
  GOOGLE
  TWITTER
  APPLE
}

input AuthProviderUnlinkLinkInput {
  """Authentication provider"""
  provider: AuthProvider!
}

input ChangeOrganizationRoleInput {
  """User ID"""
  user: String!
}

input CreateSiteInput {
  """Site's name"""
  name: String!
  tags: [String!]!
}